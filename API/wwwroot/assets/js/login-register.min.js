(()=>{let e=$("button.btn#login-button")[0];e.disabled=!0,$("button").on("click",async()=>{let e=new FormData;e.append("username",$("#login-email-input")[0].value),e.append("password",$("#login-password-input")[0].value);let t=await fetch("/api/auth/login",{method:"POST",body:e}),n=await t.json();n.success?($(".error")[0].innerText="",document.cookie=`auth_token=${n.token}; expires=${new Date("3000").toUTCString()};path=/`,document.cookie=`auth_username=${n.username}; expires=${new Date("3000").toUTCString()};path=/`,window.location.href="/"):$(".error")[0].innerText=`Unable to Login: ${n.reason}`}),$("input").on("keyup",t=>{if("Enter"==t.key)e.click();else{let t=0;Array.from($("#login-page-view input")).forEach(e=>{""!=e.value&&t++}),$("#login-page-view input").length==t&&(e.disabled=!1)}})}).call(),(()=>{function e(){let e=0;return Array.from($("input")).forEach(t=>{""!=t.value&&e++}),n()&&t()&&$("#register-page-view input").length==e}function t(){let e=$("#register-password-input")[0].value,t=$("#register-confirm-password-input")[0].value;if(""!=e&&""!=t)return e!=t?(a("Passwords Need to Match"),!1):(a(""),!0);if(""!=e&&""==t){let e=6;if($("#register-password-input")[0].value.length<e)return a(`Password must be at least ${e} characters long`),!1}return!1}function n(){let e=$("#register-email-input")[0].value,t=e.split("@");return e.includes("@")&&2==t.length&&""!=t[0]&&""!=t[1]?(a(""),!0):(a("Invalid Email Format: name@example.com"),!1)}function a(e){$("#register-page-view .error")[0].innerText=e}let r=$("button.btn#register-button")[0];r.disabled=!0,$("button").on("click",async()=>{let e=new FormData;e.append("email",$("#register-email-input")[0].value),e.append("username",$("#register-username-input")[0].value),e.append("password",$("#register-password-input")[0].value);let t=await fetch("/api/auth/register",{method:"POST",body:e}),n=await t.json();n.success?($(".error")[0].innerText="",document.cookie=`auth_token=${n.token}; expires=${new Date("3000").toUTCString()};path=/`,document.cookie=`auth_username=${n.username}; expires=${new Date("3000").toUTCString()};path=/`,window.location.href="/"):a(`Unable to Register: ${n.reason}`)}),$("input").on("keyup",t=>{a(""),r.disabled=!e(),"Enter"==t.key&&r.click()})}).call();